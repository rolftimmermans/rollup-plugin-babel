{"version":3,"file":"rollup-plugin-babel.cjs.js","sources":["../src/constants.js","../src/helperPlugin.js","../src/utils.js","../src/preflightCheck.js","../src/transformCode.js","../src/index.js"],"sourcesContent":["export const INLINE = {};\nexport const RUNTIME = {};\nexport const EXTERNAL = {};\n\n// NOTE: DO NOT REMOVE the null character `\\0` as it may be used by other plugins\n// e.g. https://github.com/rollup/rollup-plugin-node-resolve/blob/313a3e32f432f9eb18cc4c231cc7aac6df317a51/src/index.js#L74\nexport const HELPERS = '\\0rollupPluginBabelHelpers.js';\n","import { HELPERS } from './constants.js';\nimport { addNamed } from '@babel/helper-module-imports';\n\nexport default function importHelperPlugin() {\n\treturn {\n\t\tpre(file) {\n\t\t\tconst cachedHelpers = {};\n\t\t\tfile.set('helperGenerator', name => {\n\t\t\t\tif (!file.availableHelper(name)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (cachedHelpers[name]) {\n\t\t\t\t\treturn cachedHelpers[name];\n\t\t\t\t}\n\n\t\t\t\treturn (cachedHelpers[name] = addNamed(file.path, name, HELPERS));\n\t\t\t});\n\t\t},\n\t};\n}\n","export const addBabelPlugin = (options, plugin) => ({ ...options, plugins: options.plugins.concat(plugin) });\n\nlet warned = {};\nexport function warnOnce(ctx, msg) {\n\tif (warned[msg]) return;\n\twarned[msg] = true;\n\tctx.warn(msg);\n}\n\nconst regExpCharactersRegExp = /[\\\\^$.*+?()[\\]{}|]/g;\nexport const escapeRegExpCharacters = str => str.replace(regExpCharactersRegExp, '\\\\$&');\n","import * as babel from '@babel/core';\nimport { INLINE, RUNTIME, EXTERNAL } from './constants.js';\nimport { addBabelPlugin } from './utils.js';\n\nconst MODULE_ERROR =\n\t'Rollup requires that your Babel configuration keeps ES6 module syntax intact. ' +\n\t'Unfortunately it looks like your configuration specifies a module transformer ' +\n\t'to replace ES6 modules with another module format. To continue you have to disable it.' +\n\t'\\n\\n' +\n\t\"Most commonly it's a CommonJS transform added by @babel/preset-env - \" +\n\t'in such case you should disable it by adding `modules: false` option to that preset ' +\n\t'(described in more detail here - https://github.com/rollup/rollup-plugin-babel#modules ).';\n\nconst UNEXPECTED_ERROR =\n\t'An unexpected situation arose. Please raise an issue at ' +\n\t'https://github.com/rollup/rollup-plugin-babel/issues. Thanks!';\n\nfunction fallbackClassTransform() {\n\treturn {\n\t\tvisitor: {\n\t\t\tClassDeclaration(path, state) {\n\t\t\t\tpath.replaceWith(state.file.addHelper('inherits'));\n\t\t\t},\n\t\t},\n\t};\n}\n\nexport default function createPreflightCheck() {\n\tlet preflightCheckResults = {};\n\n\treturn (ctx, options) => {\n\t\tconst key = options.filename;\n\n\t\tif (preflightCheckResults[key] === undefined) {\n\t\t\tlet helpers;\n\n\t\t\tconst inputCode = 'class Foo extends Bar {};\\nexport default Foo;';\n\t\t\tconst transformed = babel.transformSync(inputCode, options);\n\n\t\t\tlet check = transformed.code;\n\n\t\t\tif (~check.indexOf('class ')) {\n\t\t\t\tcheck = babel.transformSync(inputCode, addBabelPlugin(options, fallbackClassTransform)).code;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\t!~check.indexOf('export default') &&\n\t\t\t\t!~check.indexOf('export default Foo') &&\n\t\t\t\t!~check.indexOf('export { Foo as default }')\n\t\t\t) {\n\t\t\t\tctx.error(MODULE_ERROR);\n\t\t\t}\n\n\t\t\tif (check.match(/\\/helpers\\/(esm\\/)?inherits/)) helpers = RUNTIME;\n\t\t\telse if (~check.indexOf('function _inherits')) helpers = INLINE;\n\t\t\telse if (~check.indexOf('babelHelpers')) helpers = EXTERNAL;\n\t\t\telse {\n\t\t\t\tctx.error(UNEXPECTED_ERROR);\n\t\t\t}\n\n\t\t\tpreflightCheckResults[key] = helpers;\n\t\t}\n\n\t\treturn preflightCheckResults[key];\n\t};\n}\n","import * as babel from '@babel/core';\n\nexport default async function transformCode(inputCode, babelOptions, overrides, customOptions, ctx, finalizeOptions) {\n\tconst config = babel.loadPartialConfig(babelOptions);\n\n\tif (!config) {\n\t\treturn null;\n\t}\n\n\tlet transformOptions = !overrides.config\n\t\t? config.options\n\t\t: await overrides.config.call(this, config, {\n\t\t\t\tcode,\n\t\t\t\tcustomOptions,\n\t\t  });\n\n\tif (finalizeOptions) {\n\t\ttransformOptions = await finalizeOptions(transformOptions);\n\t}\n\n\tif (!overrides.result) {\n\t\tconst { code, map } = await babel.transformAsync(inputCode, transformOptions);\n\t\treturn { code, map };\n\t}\n\n\tconst result = await babel.transformAsync(inputCode, transformOptions);\n\tconst { code, map } = await overrides.result.call(ctx, result, {\n\t\tcode: inputCode,\n\t\tcustomOptions,\n\t\tconfig,\n\t\ttransformOptions,\n\t});\n\treturn { code, map };\n}\n","import * as babel from '@babel/core';\nimport { createFilter } from 'rollup-pluginutils';\nimport { EXTERNAL, HELPERS, RUNTIME } from './constants.js';\nimport helperPlugin from './helperPlugin.js';\nimport createPreflightCheck from './preflightCheck.js';\nimport transformCode from './transformCode';\nimport { addBabelPlugin, escapeRegExpCharacters, warnOnce } from './utils.js';\n\nconst unpackOptions = ({\n\textensions = babel.DEFAULT_EXTENSIONS,\n\t// rollup uses sourcemap, babel uses sourceMaps\n\t// just normalize them here so people don't have to worry about it\n\tsourcemap = true,\n\tsourcemaps = true,\n\tsourceMap = true,\n\tsourceMaps = true,\n\t...rest\n} = {}) => ({\n\textensions,\n\tplugins: [],\n\tsourceMaps: sourcemap && sourcemaps && sourceMap && sourceMaps,\n\t...rest,\n\tcaller: {\n\t\tname: 'rollup-plugin-babel',\n\t\t...rest.caller,\n\t},\n});\n\nconst unpackInputPluginOptions = options =>\n\tunpackOptions({\n\t\t...options,\n\t\tcaller: {\n\t\t\tsupportsStaticESM: true,\n\t\t\tsupportsDynamicImport: true,\n\t\t\tsupportsTopLevelAwait: true,\n\t\t\t...options.caller,\n\t\t},\n\t});\n\nconst unpackOutputPluginOptions = (options, { format }) =>\n\tunpackOptions({\n\t\tconfigFile: false,\n\t\tsourceType: format === 'es' ? 'module' : 'script',\n\t\t...options,\n\t\tcaller: {\n\t\t\tsupportsStaticESM: format === 'es',\n\t\t\t...options.caller,\n\t\t},\n\t});\n\nfunction getOptionsWithOverrides(pluginOptions = {}, overrides = {}) {\n\tif (!overrides.options) return { customOptions: null, pluginOptionsWithOverrides: pluginOptions };\n\tconst overridden = overrides.options(pluginOptions);\n\n\tif (typeof overridden.then === 'function') {\n\t\tthrow new Error(\n\t\t\t\".options hook can't be asynchronous. It should return `{ customOptions, pluginsOptions }` synchronously.\",\n\t\t);\n\t}\n\n\treturn {\n\t\tcustomOptions: overridden.customOptions || null,\n\t\tpluginOptionsWithOverrides: overridden.pluginOptions || pluginOptions,\n\t};\n}\n\nconst returnObject = () => ({});\n\nfunction createBabelInputPluginFactory(customCallback = returnObject) {\n\tconst overrides = customCallback(babel);\n\n\treturn pluginOptions => {\n\t\tconst { customOptions, pluginOptionsWithOverrides } = getOptionsWithOverrides(pluginOptions, overrides);\n\n\t\tconst {\n\t\t\texclude,\n\t\t\textensions,\n\t\t\texternalHelpers,\n\t\t\texternalHelpersWhitelist,\n\t\t\tinclude,\n\t\t\truntimeHelpers,\n\t\t\t...babelOptions\n\t\t} = unpackInputPluginOptions(pluginOptionsWithOverrides);\n\n\t\tconst preflightCheck = createPreflightCheck(true);\n\t\tconst extensionRegExp = new RegExp(`(${extensions.map(escapeRegExpCharacters).join('|')})$`);\n\t\tconst includeExcludeFilter = createFilter(include, exclude);\n\t\tconst filter = id => extensionRegExp.test(id) && includeExcludeFilter(id);\n\n\t\treturn {\n\t\t\tname: 'babel',\n\n\t\t\tresolveId(id) {\n\t\t\t\tif (id === HELPERS) return id;\n\t\t\t},\n\n\t\t\tload(id) {\n\t\t\t\tif (id === HELPERS) return babel.buildExternalHelpers(externalHelpersWhitelist, 'module');\n\t\t\t},\n\n\t\t\ttransform(code, filename) {\n\t\t\t\tif (!filter(filename)) return null;\n\t\t\t\tif (filename === HELPERS) return null;\n\n\t\t\t\treturn transformCode(code, { ...babelOptions, filename }, overrides, customOptions, this, transformOptions => {\n\t\t\t\t\tconst helpers = preflightCheck(this, transformOptions);\n\n\t\t\t\t\tif (helpers === EXTERNAL && !externalHelpers) {\n\t\t\t\t\t\twarnOnce(\n\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\t'Using \"external-helpers\" plugin with rollup-plugin-babel is deprecated, as it now automatically deduplicates your Babel helpers.',\n\t\t\t\t\t\t);\n\t\t\t\t\t} else if (helpers === RUNTIME && !runtimeHelpers) {\n\t\t\t\t\t\tthis.error(\n\t\t\t\t\t\t\t'Runtime helpers are not enabled. Either exclude the transform-runtime Babel plugin or pass the `runtimeHelpers: true` option. See https://github.com/rollup/rollup-plugin-babel#configuring-babel for more information',\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (helpers !== RUNTIME && !externalHelpers) {\n\t\t\t\t\t\treturn addBabelPlugin(transformOptions, helperPlugin);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn transformOptions;\n\t\t\t\t});\n\t\t\t},\n\t\t};\n\t};\n}\n\nfunction getRecommendedFormat(rollupFormat) {\n\tswitch (rollupFormat) {\n\t\tcase 'amd':\n\t\t\treturn 'amd';\n\t\tcase 'iife':\n\t\tcase 'umd':\n\t\t\treturn 'umd';\n\t\tcase 'system':\n\t\t\treturn 'systemjs';\n\t\tdefault:\n\t\t\treturn '<module format>';\n\t}\n}\n\nfunction createBabelOutputPluginFactory(customCallback = returnObject) {\n\tconst overrides = customCallback(babel);\n\n\treturn pluginOptions => {\n\t\tconst { customOptions, pluginOptionsWithOverrides } = getOptionsWithOverrides(pluginOptions, overrides);\n\n\t\treturn {\n\t\t\tname: 'babel',\n\n\t\t\trenderStart(outputOptions) {\n\t\t\t\tconst { extensions, include, exclude, allowAllFormats } = pluginOptionsWithOverrides;\n\n\t\t\t\tif (extensions || include || exclude) {\n\t\t\t\t\twarnOnce(this, 'The \"include\", \"exclude\" and \"extensions\" options are ignored when transforming the output.');\n\t\t\t\t}\n\t\t\t\tif (!allowAllFormats && outputOptions.format !== 'es' && outputOptions.format !== 'cjs') {\n\t\t\t\t\tthis.error(\n\t\t\t\t\t\t`Using Babel on the generated chunks is strongly discouraged for formats other than \"esm\" or \"cjs\" as it can easily break wrapper code and lead to accidentally created global variables. Instead, you should set \"output.format\" to \"esm\" and use Babel to transform to another format, e.g. by adding \"presets: [['@babel/env', { modules: '${getRecommendedFormat(\n\t\t\t\t\t\t\toutputOptions.format,\n\t\t\t\t\t\t)}' }]]\" to your Babel options. If you still want to proceed, add \"allowAllFormats: true\" to your plugin options.`,\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\trenderChunk(code, chunk, outputOptions) {\n\t\t\t\t/* eslint-disable no-unused-vars */\n\t\t\t\tconst {\n\t\t\t\t\tallowAllFormats,\n\t\t\t\t\texclude,\n\t\t\t\t\textensions,\n\t\t\t\t\texternalHelpers,\n\t\t\t\t\texternalHelpersWhitelist,\n\t\t\t\t\tinclude,\n\t\t\t\t\truntimeHelpers,\n\t\t\t\t\t...babelOptions\n\t\t\t\t} = unpackOutputPluginOptions(pluginOptionsWithOverrides, outputOptions);\n\t\t\t\t/* eslint-enable no-unused-vars */\n\n\t\t\t\treturn transformCode(code, babelOptions, overrides, customOptions, this);\n\t\t\t},\n\t\t};\n\t};\n}\n\nconst babelPluginFactory = createBabelInputPluginFactory();\nbabelPluginFactory.custom = createBabelInputPluginFactory;\nbabelPluginFactory.generated = createBabelOutputPluginFactory();\nbabelPluginFactory.generated.custom = createBabelOutputPluginFactory;\n\nexport default babelPluginFactory;\n"],"names":["const","addNamed","let","babel.transformSync","babel.loadPartialConfig","babel.transformAsync","code","map","babel.DEFAULT_EXTENSIONS","createFilter","babel.buildExternalHelpers","this","helperPlugin"],"mappings":"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"}